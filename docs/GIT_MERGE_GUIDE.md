# Gitåˆå¹¶æµç¨‹æŒ‡å—ï¼šå°†ä½ çš„ä»£ç åˆå¹¶åˆ°å°ç»„ä»£ç 

## ğŸ“‹ åœºæ™¯è¯´æ˜

- âœ… ä½ forkäº†ç»„é•¿çš„ä»£ç ä»“åº“
- âœ… ä½ åœ¨è‡ªå·±çš„forkä¸­æ–°å¢äº†ç»´æŠ¤åŠŸèƒ½
- âœ… ç»„é•¿ä¹Ÿåœ¨ä¸»ä»“åº“ä¸­ä¿®æ”¹äº†ä»£ç 
- âœ… ä½ éœ€è¦åŒæ­¥ç»„é•¿çš„æ›´æ–°ï¼Œç„¶ååˆå¹¶ä½ çš„æ›´æ”¹

---

## ğŸ”„ å®Œæ•´æµç¨‹

### æ­¥éª¤1ï¼šæ£€æŸ¥å½“å‰çŠ¶æ€

é¦–å…ˆï¼Œç¡®è®¤ä½ å½“å‰çš„å·¥ä½œçŠ¶æ€ï¼š

```bash
# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch

# æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
git status

# æŸ¥çœ‹æœ€è¿‘çš„æäº¤
git log --oneline -5
```

**é‡è¦**ï¼šå¦‚æœæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œå…ˆæäº¤æˆ–æš‚å­˜ï¼š

```bash
# æäº¤æ‰€æœ‰æ›´æ”¹
git add .
git commit -m "feat: æ·»åŠ åŠ¨æ€ç»´æŠ¤æ¨¡å—åŠŸèƒ½"

# æˆ–è€…æš‚å­˜æ›´æ”¹ï¼ˆå¦‚æœè¿˜æ²¡å‡†å¤‡å¥½æäº¤ï¼‰
git stash
```

---

### æ­¥éª¤2ï¼šæ·»åŠ åŸå§‹ä»“åº“ä¸ºupstream

å¦‚æœè¿˜æ²¡æœ‰æ·»åŠ upstreamï¼Œéœ€è¦æ·»åŠ ï¼š

```bash
# æŸ¥çœ‹å½“å‰çš„remote
git remote -v

# å¦‚æœæ²¡æœ‰upstreamï¼Œæ·»åŠ å®ƒï¼ˆæ›¿æ¢ä¸ºç»„é•¿çš„ä»“åº“URLï¼‰
git remote add upstream https://github.com/ç»„é•¿ç”¨æˆ·å/ä»“åº“å.git

# æˆ–è€…å¦‚æœä½¿ç”¨SSH
git remote add upstream git@github.com:ç»„é•¿ç”¨æˆ·å/ä»“åº“å.git
```

**å¦‚æœå·²ç»æ·»åŠ è¿‡upstream**ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ï¼Œæˆ–è€…æ›´æ–°URLï¼š

```bash
# æ›´æ–°upstream URL
git remote set-url upstream https://github.com/ç»„é•¿ç”¨æˆ·å/ä»“åº“å.git
```

---

### æ­¥éª¤3ï¼šè·å–upstreamçš„æœ€æ–°ä»£ç 

```bash
# ä»upstreamè·å–æœ€æ–°ä»£ç ï¼ˆä¸ä¼šåˆå¹¶ï¼‰
git fetch upstream

# æŸ¥çœ‹upstreamçš„åˆ†æ”¯
git branch -r
```

---

### æ­¥éª¤4ï¼šåˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯mainæˆ–masterï¼‰

```bash
# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch

# åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼ˆæ ¹æ®ä½ çš„ä»“åº“ï¼Œå¯èƒ½æ˜¯mainæˆ–masterï¼‰
git checkout main
# æˆ–è€…
git checkout master
```

---

### æ­¥éª¤5ï¼šåˆå¹¶upstreamçš„æ›´æ”¹

æœ‰ä¸¤ç§æ–¹å¼ï¼šmerge æˆ– rebase

#### æ–¹å¼Aï¼šä½¿ç”¨Mergeï¼ˆæ¨èï¼Œæ›´å®‰å…¨ï¼‰

```bash
# åˆå¹¶upstream/mainåˆ°ä½ çš„mainåˆ†æ”¯
git merge upstream/main

# å¦‚æœæœ‰å†²çªï¼ŒGitä¼šæç¤ºä½ 
# è§£å†³å†²çªåï¼š
git add .
git commit -m "merge: åˆå¹¶upstreamçš„æœ€æ–°æ›´æ”¹"
```

#### æ–¹å¼Bï¼šä½¿ç”¨Rebaseï¼ˆä¿æŒå†å²æ›´æ•´æ´ï¼‰

```bash
# å°†ä½ çš„æäº¤é‡æ–°åº”ç”¨åˆ°upstreamçš„æœ€æ–°ä»£ç ä¸Š
git rebase upstream/main

# å¦‚æœæœ‰å†²çªï¼Œè§£å†³åï¼š
git add .
git rebase --continue
```

**æ¨èä½¿ç”¨merge**ï¼Œå› ä¸ºæ›´å®‰å…¨ï¼Œä¸ä¼šæ”¹å˜ä½ çš„æäº¤å†å²ã€‚

---

### æ­¥éª¤6ï¼šè§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰

å¦‚æœåˆå¹¶æ—¶å‡ºç°å†²çªï¼š

1. **æŸ¥çœ‹å†²çªæ–‡ä»¶**ï¼š
   ```bash
   git status
   ```

2. **æ‰“å¼€å†²çªæ–‡ä»¶**ï¼ŒæŸ¥æ‰¾å†²çªæ ‡è®°ï¼š
   ```
   <<<<<<< HEAD
   ä½ çš„ä»£ç 
   =======
   ç»„é•¿çš„ä»£ç 
   >>>>>>> upstream/main
   ```

3. **æ‰‹åŠ¨è§£å†³å†²çª**ï¼š
   - ä¿ç•™éœ€è¦çš„ä»£ç 
   - åˆ é™¤å†²çªæ ‡è®°ï¼ˆ`<<<<<<<`, `=======`, `>>>>>>>`ï¼‰

4. **æ ‡è®°ä¸ºå·²è§£å†³**ï¼š
   ```bash
   git add å†²çªçš„æ–‡ä»¶å
   ```

5. **å®Œæˆåˆå¹¶**ï¼š
   ```bash
   git commit -m "merge: è§£å†³å†²çªï¼Œåˆå¹¶upstreamæ›´æ”¹"
   ```

---

### æ­¥éª¤7ï¼šæ¨é€ä½ çš„æ›´æ–°åˆ°ä½ çš„fork

```bash
# æ¨é€åˆ°ä½ çš„forkä»“åº“
git push origin main

# å¦‚æœä½¿ç”¨äº†rebaseï¼Œå¯èƒ½éœ€è¦å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
# git push origin main --force-with-lease
```

---

### æ­¥éª¤8ï¼šåˆ›å»ºPull Request

1. **åœ¨GitHubä¸Šæ‰“å¼€ä½ çš„forkä»“åº“**

2. **ç‚¹å‡» "Pull requests" æ ‡ç­¾**

3. **ç‚¹å‡» "New pull request"**

4. **é€‰æ‹©åˆ†æ”¯**ï¼š
   - base repository: ç»„é•¿çš„ä»“åº“ï¼ˆmainåˆ†æ”¯ï¼‰
   - compare: ä½ çš„forkï¼ˆmainåˆ†æ”¯ï¼‰

5. **å¡«å†™PRä¿¡æ¯**ï¼š
   - Title: `feat: æ·»åŠ åŠ¨æ€ç»´æŠ¤æ¨¡å—åŠŸèƒ½`
   - Description: æè¿°ä½ æ·»åŠ çš„åŠŸèƒ½

6. **ç‚¹å‡» "Create pull request"**

---

## ğŸ¯ å®Œæ•´å‘½ä»¤åºåˆ—ï¼ˆå¿«é€Ÿå‚è€ƒï¼‰

```bash
# 1. æ£€æŸ¥çŠ¶æ€
git status

# 2. æäº¤å½“å‰æ›´æ”¹ï¼ˆå¦‚æœæœ‰ï¼‰
git add .
git commit -m "feat: æ·»åŠ åŠ¨æ€ç»´æŠ¤æ¨¡å—åŠŸèƒ½"

# 3. æ·»åŠ upstreamï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git remote add upstream https://github.com/ç»„é•¿ç”¨æˆ·å/ä»“åº“å.git

# 4. è·å–æœ€æ–°ä»£ç 
git fetch upstream

# 5. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
git checkout main

# 6. åˆå¹¶upstream
git merge upstream/main

# 7. è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰
# ... æ‰‹åŠ¨è§£å†³å†²çª ...
git add .
git commit -m "merge: åˆå¹¶upstreamæ›´æ”¹"

# 8. æ¨é€åˆ°ä½ çš„fork
git push origin main

# 9. åœ¨GitHubä¸Šåˆ›å»ºPull Request
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ä¿æŒä½ çš„forkåŒæ­¥

å®šæœŸåŒæ­¥upstreamçš„æ›´æ”¹ï¼š

```bash
git fetch upstream
git checkout main
git merge upstream/main
git push origin main
```

### 2. ä½¿ç”¨åŠŸèƒ½åˆ†æ”¯

ä¸ºæ¯ä¸ªæ–°åŠŸèƒ½åˆ›å»ºç‹¬ç«‹åˆ†æ”¯ï¼š

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/maintenance-module

# å¼€å‘å®Œæˆå
git add .
git commit -m "feat: æ·»åŠ ç»´æŠ¤æ¨¡å—"

# åˆå¹¶åˆ°main
git checkout main
git merge feature/maintenance-module

# æ¨é€åˆ°fork
git push origin main
```

### 3. æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼š

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æ·»åŠ æµ‹è¯•
chore: æ„å»º/å·¥å…·ç›¸å…³
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æŸ¥çœ‹upstreamçš„URLï¼Ÿ

```bash
git remote -v
```

### Q2: å¦‚ä½•æ›´æ–°upstream URLï¼Ÿ

```bash
git remote set-url upstream https://github.com/æ–°URL/ä»“åº“å.git
```

### Q3: åˆå¹¶åå¦‚ä½•æ’¤é”€ï¼Ÿ

```bash
# å¦‚æœè¿˜æ²¡æ¨é€
git reset --hard HEAD~1

# å¦‚æœå·²ç»æ¨é€ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git reset --hard HEAD~1
git push origin main --force-with-lease
```

### Q4: å¦‚ä½•æŸ¥çœ‹å†²çªæ–‡ä»¶ï¼Ÿ

```bash
git status
# ä¼šæ˜¾ç¤º "both modified" çš„æ–‡ä»¶
```

### Q5: å¦‚ä½•æŸ¥çœ‹upstreamå’Œæœ¬åœ°åˆ†æ”¯çš„å·®å¼‚ï¼Ÿ

```bash
git diff main upstream/main
```

---

## ğŸ“ ä½ çš„å…·ä½“æƒ…å†µ

æ ¹æ®ä½ çš„æƒ…å†µï¼Œä½ çš„ç»´æŠ¤æ¨¡å—ä»£ç åœ¨ï¼š

- **ä½ çš„åˆ†æ”¯**ï¼šåŒ…å« `src/maintenance/` ç›®å½•å’Œç›¸å…³é…ç½®
- **ç»„é•¿çš„ä»£ç **ï¼šå¯èƒ½æ›´æ–°äº†å…¶ä»–éƒ¨åˆ†

### å»ºè®®çš„åˆå¹¶ç­–ç•¥

1. **å…ˆåŒæ­¥ç»„é•¿çš„ä»£ç **ï¼ˆæ­¥éª¤1-5ï¼‰
2. **è§£å†³å†²çª**ï¼ˆå¦‚æœæœ‰ï¼Œæ­¥éª¤6ï¼‰
3. **ç¡®ä¿ä½ çš„ä»£ç å®Œæ•´**ï¼ˆæ£€æŸ¥ `src/maintenance/` ç›®å½•ï¼‰
4. **æµ‹è¯•åŠŸèƒ½**ï¼ˆç¡®ä¿åˆå¹¶ååŠŸèƒ½æ­£å¸¸ï¼‰
5. **åˆ›å»ºPR**ï¼ˆæ­¥éª¤8ï¼‰

---

## ğŸš€ ç°åœ¨å¼€å§‹

æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼Œä»æ­¥éª¤1å¼€å§‹æ‰§è¡Œã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œæˆ‘ä¼šå¸®ä½ è§£å†³ã€‚

