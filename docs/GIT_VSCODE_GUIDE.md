# 在VSCode中操作Git：提交和推送代码

## 📋 当前状态

- ✅ 你在 `refactor/feat3` 分支上
- ✅ 有修改的文件和新增的文件
- ❌ 需要提交并推送到fork仓库

---

## 🎯 在VSCode中操作Git

### 步骤1：打开源代码管理面板

1. **点击左侧边栏的源代码管理图标**（📁旁边的分支图标）
   - 或按 `Ctrl+Shift+G`

2. **查看更改列表**
   - 会显示所有修改和新增的文件

---

### 步骤2：暂存更改（Stage Changes）

#### 方法1：暂存所有更改

1. **在源代码管理面板顶部**
2. **点击 "+" 按钮**（在"更改"旁边）
   - 或点击 "暂存所有更改"（Stage All Changes）

#### 方法2：暂存特定文件

1. **在更改列表中**
2. **将鼠标悬停在文件上**
3. **点击 "+" 图标**（暂存此文件）
   - 或右键点击文件 → "暂存更改"

#### 方法3：暂存特定行

1. **点击文件打开它**
2. **在行号左侧点击 "+" 图标**
   - 可以暂存单行或选中多行后暂存

---

### 步骤3：提交更改

1. **在源代码管理面板顶部**
2. **在消息框中输入提交信息**：
   ```
   feat: 添加动态维护模块功能
   ```
3. **按 `Ctrl+Enter` 提交**
   - 或点击消息框上方的"✓"按钮

**更详细的提交信息**：
- 点击消息框下方的"..."按钮
- 选择"提交" → "提交（详细）"
- 可以输入多行提交信息

---

### 步骤4：推送到远程仓库

#### 方法1：使用推送按钮

1. **提交后，在源代码管理面板顶部**
2. **会显示"同步更改"或"推送"按钮**
3. **点击它**

#### 方法2：使用命令面板

1. **按 `Ctrl+Shift+P` 打开命令面板**
2. **输入 `Git: Push`**
3. **选择并执行**

#### 方法3：使用分支菜单

1. **点击底部状态栏的分支名称**（`refactor/feat3`）
2. **选择"推送"或"发布分支"**

---

## 📝 详细操作步骤

### 1. 打开源代码管理

- **快捷键**：`Ctrl+Shift+G`
- **或点击**：左侧边栏的源代码管理图标

### 2. 查看更改

你会看到：
- **更改**（Modified）：已修改的文件
- **未跟踪**（Untracked）：新增的文件

### 3. 暂存所有更改

- **点击更改列表上方的 "+" 按钮**
- 所有文件会移到"已暂存的更改"区域

### 4. 提交更改

- **在消息框输入**：`feat: 添加动态维护模块功能`
- **按 `Ctrl+Enter` 提交**

### 5. 推送更改

- **点击"同步更改"或"推送"按钮**
- **如果是第一次推送这个分支**，VSCode会提示设置upstream
  - 选择"是"或"确定"

---

## 🎨 VSCode界面说明

### 源代码管理面板布局

```
┌─────────────────────────────────┐
│  源代码管理                      │
├─────────────────────────────────┤
│  📝 消息框                       │
│  [feat: 添加动态维护模块功能]     │
│  ✓ 提交  ... 更多操作            │
├─────────────────────────────────┤
│  📋 已暂存的更改                 │
│  ├─ src/maintenance/...         │
│  ├─ package.json                │
│  └─ ...                         │
├─────────────────────────────────┤
│  📝 更改                         │
│  ├─ src/extension.ts            │
│  └─ ...                         │
├─────────────────────────────────┤
│  📁 未跟踪                       │
│  └─ .cursor/                    │
└─────────────────────────────────┘
```

---

## 💡 高级操作

### 排除文件（.gitignore）

1. **右键点击文件**（如 `.cursor/`）
2. **选择"添加到 .gitignore"**
3. **选择忽略规则**：
   - "忽略此文件"
   - "忽略此文件夹"
   - "忽略所有 .cursor 文件"

### 查看文件差异

1. **点击更改的文件**
2. **会打开并排对比视图**
3. **左侧是原文件，右侧是修改后的文件**

### 撤销更改

1. **右键点击文件**
2. **选择"放弃更改"**
3. **确认撤销**

### 查看提交历史

1. **在源代码管理面板**
2. **点击"..."菜单**
3. **选择"查看历史记录"**
4. **或使用命令面板**：`Git: View History`

---

## 🔄 推送后的操作

### 在GitHub上查看

1. **推送成功后，VSCode会显示通知**
2. **点击通知中的链接**，可以直接打开GitHub
3. **或手动打开你的fork仓库**

### 创建Pull Request

1. **在GitHub上打开你的fork仓库**
2. **切换到 `refactor/feat3` 分支**
3. **点击"Compare & pull request"按钮**
4. **填写PR信息并创建**

---

## ⚠️ 常见问题

### Q1: 推送时提示需要设置upstream？

**A**: 选择"是"，VSCode会自动设置。

### Q2: 如何查看远程仓库？

**A**: 
1. 命令面板：`Git: Show Remote`
2. 或底部状态栏点击分支名称

### Q3: 如何切换分支？

**A**: 
1. 点击底部状态栏的分支名称
2. 选择"创建新分支"或"切换分支"

### Q4: 如何查看提交历史？

**A**: 
1. 命令面板：`Git: View History`
2. 或源代码管理面板 → "..." → "查看历史记录"

### Q5: 如何解决冲突？

**A**: 
1. VSCode会自动检测冲突
2. 打开冲突文件，会显示冲突标记
3. 使用"接受当前更改"、"接受传入更改"或手动编辑
4. 解决后，暂存文件并提交

---

## 🎯 快速操作清单

- [ ] 打开源代码管理（`Ctrl+Shift+G`）
- [ ] 暂存所有更改（点击"+"按钮）
- [ ] 输入提交信息
- [ ] 提交更改（`Ctrl+Enter`）
- [ ] 推送更改（点击"推送"按钮）
- [ ] 在GitHub上验证代码已推送
- [ ] 创建Pull Request

---

## 🚀 现在开始

1. **按 `Ctrl+Shift+G` 打开源代码管理**
2. **点击"+"暂存所有更改**
3. **输入提交信息并提交**
4. **点击"推送"按钮**

按照这些步骤操作即可。如果遇到问题，告诉我具体的错误信息。

