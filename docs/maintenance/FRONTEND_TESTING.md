# å‰ç«¯åŠŸèƒ½æµ‹è¯•æŒ‡å—ï¼ˆæ— éœ€åç«¯ï¼‰

## ğŸ¯ ç›®çš„

åœ¨ä¸è¿æ¥åç«¯çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•åŠ¨æ€ç»´æŠ¤åŠŸèƒ½çš„å‰ç«¯UIæ•ˆæœã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1ï¼šå¯ç”¨Mockæ¨¡å¼

åœ¨ `.vscode/settings.json` ä¸­æ·»åŠ ï¼š

```json
{
  "llt-assistant.maintenance.useMockMode": true
}
```

æˆ–è€…é€šè¿‡VSCodeè®¾ç½®ï¼š
1. æŒ‰ `Ctrl+,` æ‰“å¼€è®¾ç½®
2. æœç´¢ `llt-assistant.maintenance.useMockMode`
3. å‹¾é€‰å¯ç”¨

### æ­¥éª¤2ï¼šç¼–è¯‘æ‰©å±•

```bash
npm run compile
```

### æ­¥éª¤3ï¼šå¯åŠ¨æ‰©å±•å¼€å‘ä¸»æœº

æŒ‰ `F5` å¯åŠ¨æ‰©å±•å¼€å‘ä¸»æœº

### æ­¥éª¤4ï¼šæµ‹è¯•åŠŸèƒ½

åœ¨æ–°æ‰“å¼€çš„çª—å£ä¸­ï¼š
1. ç¡®ä¿æ‰“å¼€äº†ä¸€ä¸ªGitä»“åº“ï¼ˆæœ‰è‡³å°‘2ä¸ªæäº¤ï¼‰
2. æŒ‰ `Ctrl+Shift+P`
3. è¾“å…¥ `LLT: Analyze Maintenance`
4. æ‰§è¡Œå‘½ä»¤

---

## ğŸ“‹ Mockæ¨¡å¼è¯´æ˜

### åŠŸèƒ½

Mockæ¨¡å¼ä¼šï¼š
- âœ… è·³è¿‡åç«¯å¥åº·æ£€æŸ¥ï¼ˆç›´æ¥è¿”å›æˆåŠŸï¼‰
- âœ… ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è¿”å›å—å½±å“çš„æµ‹è¯•ç”¨ä¾‹
- âœ… æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼ˆè®©UIæ›´çœŸå®ï¼‰
- âœ… ç”ŸæˆåŸºäºä»£ç å˜æ›´çš„æ™ºèƒ½æ¨¡æ‹Ÿæ•°æ®

### Mockæ•°æ®ç”Ÿæˆè§„åˆ™

**å—å½±å“æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ**ï¼š
- æ ¹æ®å˜æ›´çš„æ–‡ä»¶åç”Ÿæˆå¯¹åº”çš„æµ‹è¯•æ–‡ä»¶å
  - `src/calculator.py` â†’ `tests/test_calculator.py`
- æ ¹æ®å˜æ›´çš„å‡½æ•°åç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å
  - `add` â†’ `test_add`
- æ ¹æ®å˜æ›´è¡Œæ•°ç¡®å®šå½±å“çº§åˆ«
  - >20è¡Œï¼š`critical`
  - >10è¡Œï¼š`high`
  - >5è¡Œï¼š`medium`
  - <5è¡Œï¼š`low`

**ç¤ºä¾‹**ï¼š

å¦‚æœä»£ç å˜æ›´ï¼š
```python
# src/calculator.py
def add(a, b):  # ä¿®æ”¹äº†è¿™ä¸ªå‡½æ•°
    return a + b
```

Mockä¼šç”Ÿæˆï¼š
```json
{
  "test_file": "tests/test_calculator.py",
  "test_name": "test_add",
  "impact_level": "medium",
  "reason": "Function \"add\" was modified. 2 lines added, 1 lines removed.",
  "requires_update": true
}
```

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1ï¼šåŸºæœ¬åˆ†ææµç¨‹

1. **å‡†å¤‡**ï¼š
   - ç¡®ä¿é¡¹ç›®æ˜¯Gitä»“åº“
   - è‡³å°‘æœ‰2ä¸ªæäº¤
   - æœ‰Pythonæºä»£ç æ–‡ä»¶

2. **æ‰§è¡Œ**ï¼š
   - æ‰§è¡Œ `LLT: Analyze Maintenance`

3. **é¢„æœŸç»“æœ**ï¼š
   - çœ‹åˆ°è¿›åº¦é€šçŸ¥
   - æ ‘å½¢è§†å›¾æ˜¾ç¤ºæ¨¡æ‹Ÿçš„å—å½±å“æµ‹è¯•ç”¨ä¾‹
   - è‡ªåŠ¨æ‰“å¼€ä»£ç å·®å¼‚è§†å›¾
   - å¼¹å‡ºå†³ç­–å¯¹è¯æ¡†

### åœºæ™¯2ï¼šæŸ¥çœ‹æ ‘å½¢è§†å›¾

1. **æ‰“å¼€ç»´æŠ¤è§†å›¾**ï¼š
   - ç‚¹å‡»å·¦ä¾§ "LLT Maintenance" å›¾æ ‡

2. **æŸ¥çœ‹å†…å®¹**ï¼š
   - SummaryèŠ‚ç‚¹æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
   - æµ‹è¯•æ–‡ä»¶èŠ‚ç‚¹æ˜¾ç¤ºå—å½±å“æµ‹è¯•
   - æµ‹è¯•ç”¨ä¾‹èŠ‚ç‚¹æ˜¾ç¤ºå½±å“çº§åˆ«

3. **äº¤äº’æµ‹è¯•**ï¼š
   - ç‚¹å‡»æµ‹è¯•ç”¨ä¾‹è·³è½¬åˆ°ä»£ç ä½ç½®
   - å±•å¼€/æŠ˜å èŠ‚ç‚¹
   - æŸ¥çœ‹tooltipä¿¡æ¯

### åœºæ™¯3ï¼šå†³ç­–å¯¹è¯æ¡†

1. **è§¦å‘å†³ç­–**ï¼š
   - æ‰§è¡Œåˆ†æåä¼šè‡ªåŠ¨å¼¹å‡º

2. **æµ‹è¯•é€‰é¡¹**ï¼š
   - é€‰æ‹© "Yes, functionality changed"
     - è¾“å…¥åŠŸèƒ½æè¿°
     - é€‰æ‹©è¦ä¿®å¤çš„æµ‹è¯•
   - é€‰æ‹© "No, just refactoring"
     - é€‰æ‹©è¦æå‡è¦†ç›–ç‡çš„æµ‹è¯•
   - é€‰æ‹© "Cancel"
     - å–æ¶ˆæ“ä½œ

### åœºæ™¯4ï¼šæ‰¹é‡ä¿®å¤ï¼ˆMockæ¨¡å¼ï¼‰

1. **æ‰§è¡Œæ‰¹é‡ä¿®å¤**ï¼š
   - åœ¨ç»´æŠ¤è§†å›¾ä¸­ç‚¹å‡» "Batch Fix Tests"
   - æˆ–ä½¿ç”¨å‘½ä»¤ `LLT: Batch Fix Tests`

2. **é¢„æœŸç»“æœ**ï¼š
   - æ˜¾ç¤ºè¿›åº¦é€šçŸ¥
   - æ¨¡æ‹Ÿä¿®å¤è¿‡ç¨‹
   - æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯

---

## ğŸ” éªŒè¯UIæ•ˆæœ

### æ£€æŸ¥ç‚¹

1. **æ ‘å½¢è§†å›¾**ï¼š
   - [ ] SummaryèŠ‚ç‚¹æ­£ç¡®æ˜¾ç¤º
   - [ ] æµ‹è¯•æ–‡ä»¶åˆ†ç»„æ­£ç¡®
   - [ ] å½±å“çº§åˆ«å›¾æ ‡æ˜¾ç¤ºæ­£ç¡®ï¼ˆğŸ”´ğŸŸ ğŸŸ¡ğŸ”µï¼‰
   - [ ] ç‚¹å‡»æµ‹è¯•ç”¨ä¾‹å¯ä»¥è·³è½¬

2. **å·®å¼‚è§†å›¾**ï¼š
   - [ ] è‡ªåŠ¨æ‰“å¼€diffè§†å›¾
   - [ ] æ˜¾ç¤ºå˜æ›´å‰åçš„ä»£ç å¯¹æ¯”
   - [ ] é«˜äº®æ˜¾ç¤ºå˜æ›´éƒ¨åˆ†

3. **å†³ç­–å¯¹è¯æ¡†**ï¼š
   - [ ] æ˜¾ç¤ºå˜æ›´æ‘˜è¦
   - [ ] ä¸‰ä¸ªé€‰é¡¹éƒ½å¯ä»¥é€‰æ‹©
   - [ ] è¾“å…¥æ¡†å’Œé€‰æ‹©å™¨æ­£å¸¸å·¥ä½œ

4. **è¿›åº¦åé¦ˆ**ï¼š
   - [ ] æ˜¾ç¤ºè¿›åº¦é€šçŸ¥
   - [ ] è¿›åº¦ç™¾åˆ†æ¯”æ›´æ–°
   - [ ] é˜¶æ®µæè¿°æ¸…æ™°

---

## ğŸ› ï¸ Mockæ•°æ®å®šåˆ¶

å¦‚æœéœ€è¦è‡ªå®šä¹‰Mockæ•°æ®ï¼Œå¯ä»¥ä¿®æ”¹ `src/maintenance/api/mockClient.ts`ï¼š

### ä¿®æ”¹å½±å“çº§åˆ«è§„åˆ™

```typescript
// åœ¨ generateMockAffectedTests æ–¹æ³•ä¸­
if (totalChanges > 20) {
    impactLevel = 'critical';
} else if (totalChanges > 10) {
    impactLevel = 'high';
    // å¯ä»¥è°ƒæ•´è¿™äº›é˜ˆå€¼
}
```

### ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆé€»è¾‘

```typescript
// è‡ªå®šä¹‰æµ‹è¯•æ–‡ä»¶å‘½åè§„åˆ™
const testFileName = `tests/test_${baseName}.py`;
// å¯ä»¥æ”¹ä¸ºå…¶ä»–å‘½åè§„åˆ™
```

---

## ğŸ“ æµ‹è¯•æ¸…å•

### åŸºç¡€åŠŸèƒ½æµ‹è¯•

- [ ] Mockæ¨¡å¼å¯ä»¥æ­£å¸¸å¯ç”¨
- [ ] åˆ†æå‘½ä»¤å¯ä»¥æ‰§è¡Œ
- [ ] æ ‘å½¢è§†å›¾æ­£ç¡®æ˜¾ç¤º
- [ ] å·®å¼‚è§†å›¾å¯ä»¥æ‰“å¼€
- [ ] å†³ç­–å¯¹è¯æ¡†æ­£å¸¸å¼¹å‡º
- [ ] æ‰¹é‡ä¿®å¤å‘½ä»¤å¯ä»¥æ‰§è¡Œ

### UIäº¤äº’æµ‹è¯•

- [ ] ç‚¹å‡»æ ‘èŠ‚ç‚¹å¯ä»¥å±•å¼€/æŠ˜å 
- [ ] ç‚¹å‡»æµ‹è¯•ç”¨ä¾‹å¯ä»¥è·³è½¬
- [ ] Tooltipæ˜¾ç¤ºæ­£ç¡®ä¿¡æ¯
- [ ] è¿›åº¦é€šçŸ¥æ­£å¸¸æ˜¾ç¤º
- [ ] é”™è¯¯æ¶ˆæ¯æ­£å¸¸æ˜¾ç¤º

### è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] æ— Gitä»“åº“æ—¶çš„æç¤º
- [ ] åªæœ‰ä¸€ä¸ªæäº¤æ—¶çš„æç¤º
- [ ] æ— ä»£ç å˜æ›´æ—¶çš„æç¤º
- [ ] ç”¨æˆ·å–æ¶ˆæ“ä½œçš„å¤„ç†

---

## ğŸ¨ UIæ•ˆæœé¢„è§ˆ

### æ ‘å½¢è§†å›¾ç»“æ„

```
ğŸ“Š Summary
  â”œâ”€ ğŸ“ 2 files changed
  â”œâ”€ ğŸ§ª 3 tests affected
  â””â”€ ğŸ“ +15 / -8 lines
ğŸ“„ test_calculator.py (2 tests affected)
  â”œâ”€ ğŸ”´ test_add [CRITICAL]
  â””â”€ ğŸŸ¡ test_subtract [MEDIUM]
ğŸ“„ test_utils.py (1 test affected)
  â””â”€ ğŸŸ  test_format [HIGH]
```

### å†³ç­–å¯¹è¯æ¡†

```
ä»£ç å˜æ›´æ£€æµ‹

æäº¤: abc1234
æ–‡ä»¶å˜æ›´: 2
å‡½æ•°å˜æ›´: 3
æµ‹è¯•å—å½±å“: 3

å˜æ›´çš„å‡½æ•°:
  â€¢ add
  â€¢ subtract
  â€¢ format

å—å½±å“çš„æµ‹è¯•:
  â€¢ test_add [HIGH]
  â€¢ test_subtract [MEDIUM]
  â€¢ test_format [HIGH]

---
åŠŸèƒ½æ˜¯å¦å‘ç”Ÿå˜æ›´ï¼Ÿ

[Yes, functionality changed] [No, just refactoring] [Cancel]
```

---

## ğŸ’¡ æç¤º

1. **Mockæ•°æ®åŸºäºçœŸå®å˜æ›´**ï¼š
   - Mockæ¨¡å¼ä¼šåˆ†æä½ çš„å®é™…ä»£ç å˜æ›´
   - ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹åç§°åŸºäºå˜æ›´çš„å‡½æ•°å
   - å½±å“çº§åˆ«åŸºäºå˜æ›´çš„è¡Œæ•°

2. **å¯ä»¥éšæ—¶åˆ‡æ¢**ï¼š
   - è®¾ç½® `useMockMode: false` å³å¯åˆ‡æ¢å›çœŸå®åç«¯
   - æ— éœ€é‡å¯VSCode

3. **æµ‹è¯•ä¸åŒåœºæ™¯**ï¼š
   - å°è¯•ä¿®æ”¹ä¸åŒçš„æ–‡ä»¶
   - å°è¯•ä¸åŒçš„å˜æ›´å¤§å°
   - æŸ¥çœ‹Mockæ•°æ®å¦‚ä½•å˜åŒ–

---

## ğŸ› è°ƒè¯•

### æŸ¥çœ‹Mockæ•°æ®

åœ¨è¾“å‡ºé¢æ¿ï¼ˆ`Ctrl+Shift+U`ï¼‰ä¸­ï¼š
- é€‰æ‹© "LLT Assistant"
- æŸ¥çœ‹Mockå®¢æˆ·ç«¯ç”Ÿæˆçš„æ—¥å¿—

### ä¿®æ”¹Mockå»¶è¿Ÿ

åœ¨ `mockClient.ts` ä¸­è°ƒæ•´å»¶è¿Ÿæ—¶é—´ï¼š
```typescript
await new Promise(resolve => setTimeout(resolve, 1000)); // æ”¹ä¸ºå…¶ä»–å€¼
```

---

## âœ… å®Œæˆæµ‹è¯•å

æµ‹è¯•å®Œå‰ç«¯æ•ˆæœåï¼š

1. **å…³é—­Mockæ¨¡å¼**ï¼š
   ```json
   {
     "llt-assistant.maintenance.useMockMode": false
   }
   ```

2. **é…ç½®çœŸå®åç«¯**ï¼š
   ```json
   {
     "llt-assistant.maintenance.backendUrl": "https://cs5351.efan.dev/api/v1"
   }
   ```

3. **æµ‹è¯•å®Œæ•´åŠŸèƒ½**ï¼š
   - è¿æ¥çœŸå®åç«¯
   - æµ‹è¯•å®Œæ•´æµç¨‹

---

ç¥ä½ æµ‹è¯•é¡ºåˆ©ï¼ğŸ‰

